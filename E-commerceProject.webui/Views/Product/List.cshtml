@model ProductListViewModel

<div class="row">
  <div class="col-md-3">
    @await Component.InvokeAsync("Categories")
  </div>
  <div class="col-md-9">
    @if (Model.ProductList.Count == 0)
    {
      @await Html.PartialAsync("_noproduct")

    }
    else
    {
      <div class="row">
        @foreach (var item in Model.ProductList)
        {

          <div class="col-md-4">
            @await Html.PartialAsync("_product",item)
          </div>

        }
      </div>
      <div class="row">
        <div class="col">
          <nav aria-label="Page navigation example">
            <ul class="pagination">

              @for (int i = 0; i < Model.PageInfo.TotalPages(); i++)
              {
                @if (String.IsNullOrEmpty(Model.PageInfo.CurrentCategories))
                {

                  <li class="page-item @(Model.PageInfo.CurrentPage==i+1 ? "active" : "")">
                    <a class="page-link " href="/products?page=@(i+1)">
                      @(i+1)
                    </a>
                  </li>
                }
                else
                {
                  <li class="page-item  @(Model.PageInfo.CurrentPage==i+1 ? "active" : "")">
                    <a class="page-link" href="/products/@Model.PageInfo.CurrentCategories?page=@(i+1)">
                      @(i+1)
                    </a>
                  </li>
                }
              }


              


            </ul>
          </nav>
        </div>
      </div>
    }
  </div>
</div>


@section Scripts{

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
  integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
}